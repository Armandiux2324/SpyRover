<!-- dashboard.page.html -->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Dashboard</ion-title>
    <ion-badge slot="end" [color]="isRoverOnline ? 'success' : 'danger'" class="status-badge">
      <ion-icon [name]="isRoverOnline ? 'wifi' : 'wifi-off'"></ion-icon>
      {{ isRoverOnline ? 'CONECTADO' : 'DESCONECTADO' }}
    </ion-badge>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="dashboard-content">
  <div class="main-container">
    
    <div class="mode-section">
      <ion-label class="section-title">Modo de Operación</ion-label>
      <ion-segment [value]="mode" (ionChange)="onModeChange($event)">
        <ion-segment-button value="manual" [disabled]="!isRoverOnline" 
                          [class.active-mode]="mode === 'manual'">
          <ion-icon name="hand-left-outline"></ion-icon>
          <ion-label>Manual</ion-label>
        </ion-segment-button>
        
        <ion-segment-button value="automatic" [disabled]="!isRoverOnline" 
                          [class.active-mode]="mode === 'automatic'">
          <ion-icon name="shield-checkmark-outline"></ion-icon>
          <ion-label>Automático</ion-label>
        </ion-segment-button>
      </ion-segment>
    </div>

    <!-- Botones principales -->
    <div class="actions-grid">
      <ion-button class="control-btn" shape="round" 
                (click)="redirectToControl()" 
                [disabled]="!isRoverOnline || mode === 'automatic'">
        <ion-icon name="game-controller-outline"></ion-icon>
        <ion-label>Control Manual</ion-label>
      </ion-button>

      <ion-button class="capture-btn" shape="round" 
                (click)="redirectToPictures()">
        <ion-icon name="camera"></ion-icon>
        <ion-label>Galería de Capturas</ion-label>
      </ion-button>

      <ion-button class="history-btn" shape="round" 
                (click)="redirectToHistory()">
        <ion-icon name="list-circle"></ion-icon>
        <ion-label>Historial de Eventos</ion-label>
      </ion-button>

      <ion-button class="config-btn" shape="round" (click)="checkRoverStatus()">
        <ion-icon name="settings"></ion-icon>
        <ion-label>Revisar estado del Rover</ion-label>
      </ion-button>
    </div>

  </div>
</ion-content>
